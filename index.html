<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è‡ªç„¶å¤§å”ï½œå®¶é›»æ¸…æ´—æœå‹™åƒ¹ç›®è¡¨</title>
  <style>
    :root {
      --bg-color: #f8f9fa;
      --text-color: #222;
      --header-bg: #2d6a4f;
      --card-bg: #ffffff;
      --price-color: #d00000;
      --btn-line: #06c755;
      --btn-call: #1e90ff;
      --bar-bg: rgba(255, 255, 255, 0.95);
      --bar-shadow: 0 -6px 24px rgba(0,0,0,0.08);
      --divider: rgba(0,0,0,.08);
      --cta-h: 112px; /* é è¨­åº•éƒ¨åˆ—é«˜åº¦ï¼ŒJS æœƒè¦†å¯«å¯¦éš›é«˜åº¦ */
    }
    body.dark {
      --bg-color: #121212;
      --text-color: #f1f1f1;
      --header-bg: #1b4332;
      --card-bg: #1e1e1e;
      --price-color: #ff6b6b;
      --btn-line: #06c755;
      --btn-call: #4a90e2;
      --bar-bg: rgba(18, 18, 18, 0.95);
      --bar-shadow: 0 -6px 24px rgba(0, 0, 0, 0.35);
      --divider: rgba(255,255,255,.12);
    }

    html, body { height: 100%; }
    body {
      font-family: 'Microsoft JhengHei', system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans TC', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      line-height: 1.8;
      transition: background 0.3s, color 0.3s;
    }
    :focus-visible { outline: 3px solid #7cc; outline-offset: 2px; }

    header {
      background-color: var(--header-bg);
      color: white;
      text-align: center;
      padding: 20px 10px;
    }
    h1 { margin: 0; font-size: 1.6rem; }

    main { max-width: 900px; margin: 20px auto; padding: 0 16px 20px; }

    /* === å¯æ‹–æ›³ä¸»é¡Œåˆ‡æ›æŒ‰éˆ•ï¼ˆæµ®å‹•ï¼‰ === */
    .theme-fab {
      position: fixed; z-index: 1000;
      right: 16px;
      bottom: calc(var(--cta-h, 112px) + 16px + env(safe-area-inset-bottom));
      background:#444; color:#fff; border:none; padding:12px 14px; border-radius:999px;
      font-size:14px; font-weight:600; cursor: grab; user-select: none; touch-action: none;
      box-shadow: 0 10px 24px rgba(0,0,0,.18);
    }
    .theme-fab:active{ cursor: grabbing; }

    /* ç« ç¯€å¡ç‰‡ */
    .section-card { background: var(--card-bg); border: 1px solid var(--divider); border-radius: 14px; padding: 18px; box-shadow: 0 2px 10px rgba(0,0,0,.06); margin-top: 20px; }
    .section-card > h2 { margin: 0 0 12px; color: var(--header-bg); border-left: 5px solid #40916c; padding-left: 10px; }

    /* å…§éƒ¨æ¸…å–®ï¼šå¡ç‰‡åŒ–é …ç›® */
    ul { list-style: none; padding: 0; margin: 0; }
    .list-cards { display: grid; gap: 12px; grid-template-columns: 1fr; }
    @media (min-width: 720px) { .list-cards { grid-template-columns: repeat(2, 1fr); } }
    .list-cards > li { background: var(--card-bg); border: 1px solid var(--divider); border-radius: 10px; padding: 12px 14px; box-shadow: 0 1px 4px rgba(0,0,0,.06); }
    .title { font-weight: 800; letter-spacing: .3px; }
    .meta { font-size: 13px; opacity: .85; }
    .price { color: var(--price-color); font-weight: 800; }
    .price-line { display:flex; justify-content:space-between; gap:12px; margin-top:6px; align-items: baseline; }
    .price-line .label { flex: 1; }
    .price-line .price { min-width: 6em; text-align: right; }
    .badge { display:inline-block; font-size:12px; font-weight:700; padding:2px 8px; border-radius:999px; margin-left:8px; background:#ffe8cc; color:#b85c00; }

    footer { text-align: center; padding: 20px 16px; font-size: 0.9rem; color: #aaa; }

    /* Buttons */
    .btn { display: inline-block; padding: 10px 20px; margin: 10px 5px; border-radius: 10px; text-decoration: none; color: white; font-weight: 700; box-shadow: 0 4px 12px rgba(0,0,0,.12); }
    .btn:active { transform: translateY(1px); }
    .btn-line { background-color: var(--btn-line); }
    .btn-call { background-color: var(--btn-call); }
    .cta-desktop { text-align:center; margin-top: 12px; }

    /* Mobile bottom action bar */
    .mobile-cta { position: fixed; left: 0; right: 0; bottom: 0; background: var(--bar-bg); backdrop-filter: blur(8px); box-shadow: var(--bar-shadow); padding: 10px 12px calc(10px + env(safe-area-inset-bottom)); display: none; z-index: 999; border-top: 1px solid var(--divider); min-height: var(--cta-h); }
    .mobile-cta .wrap { max-width: 900px; margin: 0 auto; display: grid; gap: 10px; grid-template-columns: 1fr 1fr; }
    .mobile-cta .btn { width: 100%; margin: 0; text-align: center; padding: 15px 18px; border-radius: 12px; font-size: 16px; }

    /* è¡Œå‹•ç‰ˆï¼šä¿ç•™ CTA ç©ºé–“ï¼Œé¿å…é®æ“‹é å°¾èˆ‡å…§å®¹ï¼ˆç´” CSS å¾Œå‚™ + JS å‹•æ…‹è¦†è“‹ï¼‰ */
    .mobile-cta-spacer { display: none; }
    @media (max-width: 600px) {
      h1 { font-size: 1.2rem; }
      main { padding: 0 12px 16px; }
      .cta-desktop { display: none; }
      .mobile-cta { display: block; }
      body { padding-bottom: calc(var(--cta-h) + env(safe-area-inset-bottom)); }
      .mobile-cta-spacer { display:block; height: calc(var(--cta-h) + env(safe-area-inset-bottom)); }
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ“Œ è‡ªç„¶å¤§å”ï½œå®¶é›»æ¸…æ´—æœå‹™åƒ¹ç›®è¡¨</h1>
  </header>

  <!-- æµ®å‹•å¯æ‹–æ›³çš„ä¸»é¡Œåˆ‡æ›éµï¼ˆå…¨ç«™å…±ç”¨ï¼‰ -->
  <button id="theme-fab" class="theme-fab" aria-label="åˆ‡æ›æ·±/æ·ºè‰²ä¸»é¡Œ">ğŸŒ™ æ·±è‰²</button>

  <main>
    <!-- å†·æ°£æ¸…æ´— -->
    <section class="section-card" aria-labelledby="sec-ac">
      <h2 id="sec-ac">ğŸ’¨ å†·æ°£æ¸…æ´—</h2>
      <ul class="list-cards">
        <li>
          <div class="title">åˆ†é›¢å¼å†·æ°£</div>
          <div class="price-line"><div class="label">æ¯å°</div><div class="price">$1,800</div></div>
        </li>
        <li>
          <div class="title">åˆ†é›¢å¼å†·æ°£ï¼ˆåœ˜è³¼/å¤šå°ï¼‰<span class="badge">ç†±é–€</span></div>
          <div class="price-line"><div class="label">ä¸‰å°ä»¥ä¸Šï¼æ¯å°</div><div class="price">$1,500</div></div>
        </li>
        <li>
          <div class="title">åŠéš±å¼å†·æ°£</div>
          <div class="price-line"><div class="label">æ¯å°</div><div class="price">$2,800</div></div>
        </li>
        <li>
          <div class="title">åŠ åƒ¹æ¢æ¬¾</div>
          <div class="meta">
            <ul>
              <li>ğŸ“ å®¤å…§æ©Ÿé•·åº¦ &gt; 182 cmï¼šæ¯å°åŠ æ”¶ <span class="price">$300</span>ï¼ˆåŠ é•·è²»ï¼‰</li>
              <li>ğŸ§© è®Šå½¢é‡‘å‰›ç³»åˆ—ï¼šæ¯å°åŠ æ”¶ <span class="price">$500</span>ï¼ˆåœ‹éš›ç‰Œ CU/CS-PX.GX.QX.LXã€ä¸‰è±è®Šå½¢é‡‘å‰›ã€å¯Œå£«é€šè®Šå½¢ï¼‰</li>
              <li>ğŸ§º å¯Œå£«é€šä¸€é«”å¼æ°´ç›¤ï¼šæ¯å°åŠ æ”¶ <span class="price">$500</span></li>
            </ul>
          </div>
        </li>
      </ul>
    </section>

    <!-- æ°´ç®¡æ¸…æ´— -->
    <section class="section-card" aria-labelledby="sec-pipe">
      <h2 id="sec-pipe">ğŸš¿ æ°´ç®¡æ¸…æ´—</h2>
      <ul class="list-cards">
        <li><div class="title">è‡ªä¾†æ°´ç®¡æ¸…æ´—ä¿é¤Š</div><div class="meta">æ¨™æº–ä½å®…é©ç”¨</div></li>
        <li><div class="title">ç„¡å»šä¸€è¡›</div><div class="price-line"><div class="label">å¥—å…§åŸºç¤æ–¹æ¡ˆ</div><div class="price">$3,200</div></div></li>
        <li><div class="title">ä¸€å»šä¸€è¡›</div><div class="price-line"><div class="label">æ¨™æº–æ–¹æ¡ˆ</div><div class="price">$4,200</div></div><div class="meta" style="margin-top:6px;">æ¯å¢åŠ ä¸€å»šæˆ–ä¸€è¡› <span class="price">+$500</span>ï¼›æ¯å¤šä¸€è¿´è·¯ <span class="price">+$1,000</span>ï¼›äº”æ¨“ä»¥ä¸Šæ¯å±¤ <span class="price">+$1,000</span></div></li>
      </ul>
    </section>

    <!-- å…¶ä»–æœå‹™ -->
    <section class="section-card" aria-labelledby="sec-others">
      <h2 id="sec-others">ğŸŒ€ å…¶ä»–æœå‹™</h2>
      <ul class="list-cards">
        <li><div class="title">ç›´ç«‹å¼æ´—è¡£æ©Ÿæ¸…æ´—</div><div class="price-line"><div class="label">æ¯å°</div><div class="price">$2,000</div></div><div class="meta" style="margin-top:6px;">è‹¥æœ‰æ¸…æ´—å†·æ°£ï¼Œå†å„ªæƒ  <span class="price">$200</span></div></li>
        <li><div class="title">å®¶ç”¨æ°´å¡”æ¸…æ´—</div><div class="price-line"><div class="label">æ¯ä¸€é¡†</div><div class="price">$1,000</div></div><div class="meta" style="margin-top:6px;">è‹¥åŒæ™‚æ¸…æ´—è‡ªä¾†æ°´ç®¡ï¼Œå†å„ªæƒ  <span class="price">$200</span></div></li>
      </ul>
    </section>

    <!-- é¸é…é …ç›® -->
    <section class="section-card" aria-labelledby="sec-addons">
      <h2 id="sec-addons">âœ³ï¸ é¸é…é …ç›®</h2>
      <ul class="list-cards">
        <li><div class="title">å†·æ°£é˜²é»´è™•ç†</div><div class="price-line"><div class="label">æ¯å°</div><div class="price">$300</div></div><div class="meta" style="margin-top:6px;">æ»¿äº”å°å„ªæƒ  <span class="price">$250ï¼å°</span>ï¼›å¥ˆç±³ç´šæŠ—èŒã€æ—¥æœ¬ç´è±†èŒæ·¨åŒ–ã€ç„¡é¦™æ–™æ°´æ€§åŸæ–™</div></li>
        <li><div class="title">è‡­æ°§å…¨é¢æ¶ˆæ¯’ï¼ˆå¯†é–‰ç©ºé–“ï¼‰</div><div class="price-line"><div class="label">æ¯é–“æˆ¿</div><div class="price">$200</div></div><div class="meta" style="margin-top:6px;">é™¤è‡­ã€æ°§åŒ–æ±¡æŸ“ç‰©ã€æŠ‘èŒé˜²éœ‰ã€ç©ºæ°£æ·¨åŒ–</div></li>
      </ul>
    </section>

    <!-- æ¡Œæ©Ÿç‰ˆ CTA -->
    <div class="cta-desktop">
      <div class="meta" style="opacity:.85; margin-bottom:6px;">é¦¬ä¸Šé ç´„ï¼Œä¸‰å°ä»¥ä¸Šç¾çœ $900</div>
      <a href="https://lin.ee/OHk6Rn7" class="btn btn-line">ğŸ“± LINE é ç´„</a>
      <a href="tel:0912356331" class="btn btn-call">ğŸ“ ç«‹å³ä¾†é›»</a>
    </div>
  </main>

  <!-- è¡Œå‹•ç‰ˆï¼šå›ºå®šåº•éƒ¨æ“ä½œåˆ—ï¼ˆå›ºå®šæ–¼è¦–çª—ï¼‰ -->
  <div class="mobile-cta" role="region" aria-label="å¿«é€Ÿè¯çµ¡">
    <div class="wrap">
      <a href="https://lin.ee/OHk6Rn7" class="btn btn-line">ğŸ“± LINE é ç´„</a>
      <a href="tel:0912356331" class="btn btn-call">ğŸ“ ç«‹å³ä¾†é›»</a>
    </div>
  </div>

  <footer>Â© 2025 è‡ªç„¶å¤§å”ï½œå°ˆæ¥­å®¶é›»æ¸…æ´—æœå‹™</footer>
  <div class="mobile-cta-spacer" aria-hidden="true"></div>

  <script>
    // === ä¸»é¡Œç¶­æŒèˆ‡åˆ‡æ› ===
    const themeFab = document.getElementById('theme-fab');
    function applyThemeFromStorage() {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const isDark = savedTheme ? savedTheme === 'dark' : prefersDark;
      document.body.classList.toggle('dark', isDark);
      themeFab.textContent = isDark ? 'â˜€ï¸ æ·ºè‰²' : 'ğŸŒ™ æ·±è‰²';
    }
    function toggleTheme() {
      const nowDark = !document.body.classList.contains('dark');
      document.body.classList.toggle('dark', nowDark);
      localStorage.setItem('theme', nowDark ? 'dark' : 'light');
      themeFab.textContent = nowDark ? 'â˜€ï¸ æ·ºè‰²' : 'ğŸŒ™ æ·±è‰²';
    }
    themeFab.addEventListener('click', (e) => { if (themeFab._dragging) return; toggleTheme(); });
    applyThemeFromStorage();

    // === è¡Œå‹•åº•éƒ¨ CTA é«˜åº¦åµæ¸¬ï¼ˆè¦†å¯« --cta-hï¼Œé¿å…é®æ“‹ footer èˆ‡ FABï¼‰ ===
    function updateCtaHeight(){
      const mq = window.matchMedia('(max-width: 600px)');
      const cta = document.querySelector('.mobile-cta');
      if (!cta) return;
      const visible = mq.matches && getComputedStyle(cta).display !== 'none';
      const value = visible ? Math.ceil(cta.getBoundingClientRect().height) + 'px' : '0px';
      document.documentElement.style.setProperty('--cta-h', value);
      clampFabIntoViewport();
    }

    // === å¯æ‹–æ›³ FAB ===
    (function makeDraggableFab(btn){
      let startX = 0, startY = 0, startLeft = 0, startTop = 0;
      let dragging = false;

      // è‹¥å­˜åœ¨è¨˜æ†¶ä½ç½®ï¼Œå¥—ç”¨
      const saved = localStorage.getItem('themeFabPos');
      if (saved) {
        try { const {left, top} = JSON.parse(saved); setFabPos(left, top); } catch(e){}
      }

      function setFabPos(l, t) {
        btn.style.left = l + 'px';
        btn.style.top = t + 'px';
        btn.style.right = 'auto'; btn.style.bottom = 'auto';
      }
      function clamp(value, min, max){ return Math.max(min, Math.min(max, value)); }
      function getCtaH(){
        const raw = getComputedStyle(document.documentElement).getPropertyValue('--cta-h').trim();
        const n = parseFloat(raw || '0');
        return isNaN(n) ? 0 : n;
      }
      function clampFabIntoViewport(){
        const rect = btn.getBoundingClientRect();
        const vw = window.innerWidth, vh = window.innerHeight;
        const margin = 8; const bottomGuard = getCtaH() + 8; // é ç•™åº•éƒ¨ CTA ç©ºé–“
        const left = clamp(rect.left, margin, vw - rect.width - margin);
        const top  = clamp(rect.top,  margin, vh - rect.height - bottomGuard);
        setFabPos(left, top);
        localStorage.setItem('themeFabPos', JSON.stringify({left, top}));
      }

      function onPointerDown(e){
        if (e.pointerType === 'mouse' && e.button !== 0) return;
        e.preventDefault();
        dragging = false; btn._dragging = false;
        startX = e.clientX; startY = e.clientY;
        const r = btn.getBoundingClientRect(); startLeft = r.left; startTop = r.top;
        window.addEventListener('pointermove', onPointerMove);
        window.addEventListener('pointerup', onPointerUp);
      }
      function onPointerMove(e){
        const dx = e.clientX - startX; const dy = e.clientY - startY;
        if (!dragging && (Math.abs(dx) > 3 || Math.abs(dy) > 3)) { dragging = true; btn._dragging = true; }
        if (!dragging) return;
        const vw = window.innerWidth, vh = window.innerHeight;
        const r = btn.getBoundingClientRect();
        const margin = 8; const bottomGuard = getCtaH() + 8;
        let newLeft = clamp(startLeft + dx, margin, vw - r.width - margin);
        let newTop  = clamp(startTop  + dy, margin, vh - r.height - bottomGuard);
        setFabPos(newLeft, newTop);
      }
      function onPointerUp(){
        window.removeEventListener('pointermove', onPointerMove);
        window.removeEventListener('pointerup', onPointerUp);
        if (dragging){
          const r = btn.getBoundingClientRect();
          localStorage.setItem('themeFabPos', JSON.stringify({left: r.left, top: r.top}));
          setTimeout(()=>{ btn._dragging = false; }, 0);
        }
      }

      btn.addEventListener('pointerdown', onPointerDown);
      window.addEventListener('resize', clampFabIntoViewport);
      window.addEventListener('orientationchange', clampFabIntoViewport);

      // é¦–æ¬¡è¼‰å…¥å¾Œä¾åº•éƒ¨ CTA é«˜åº¦èª¿æ•´ä½ç½®ï¼ˆè‹¥å°šæœªæœ‰è¨˜æ†¶ä½ç½®ï¼Œç¶­æŒ CSS é è¨­ bottomï¼‰
      setTimeout(()=>{ if (!saved) clampFabIntoViewport(); }, 0);
      window.clampFabIntoViewport = clampFabIntoViewport; // çµ¦ updateCtaHeight å‘¼å«
    })(themeFab);

    // ç¶å®šäº‹ä»¶ï¼šé‡æ¸¬ CTA
    window.addEventListener('load', updateCtaHeight);
    window.addEventListener('resize', updateCtaHeight);
    window.addEventListener('orientationchange', updateCtaHeight);
    const ctaEl = document.querySelector('.mobile-cta');
    if (window.ResizeObserver && ctaEl) new ResizeObserver(updateCtaHeight).observe(ctaEl);
  </script>
</body>
</html>
